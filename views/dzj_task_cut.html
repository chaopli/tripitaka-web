<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>任务管理-切分校对</title>

		<!-- DataTables -->
		<link href="{{ static_url('assets/datatables/jquery.dataTables.min.css') }}" rel="stylesheet" type="text/css" />
		<!-- Custom Files -->
		<link href="{{ static_url('css/helper.css') }}" rel="stylesheet" type="text/css" />
		<link href="{{ static_url('css/style.css') }}" rel="stylesheet" type="text/css" />
		{% include _base_css.html %}

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

	</head>
	<style>

	</style>

	<body>
		<div class="app-main">
			<div class="main">
				<!--模拟出左边菜单，方便写样式-->
				{% module CommonLeft(title="task-manage", sub="task-manage-cut" ) %}
				<div class="main-content">
					{% module CommonHead() %}
					<div class="single-page-con">
						<div class="layout">
							<div class="layout-content">
								<div class="collate-history">
									<div class="wrapper">
										<div class="collate-list">
											<div class="operation">
												<span onclick="revoke(100)">批量撤销任务</span>
											</div>
											<div class="search fr">
												<input type="text" placeholder="搜索">
												<i class="ser-btn"></i>
											</div>
											<table style="border-collapse:separate; border-spacing:0px 10px;">
												<thead>
													<tr>
														<th><input type="checkbox" name="" id="" value="" /></th>
														<th>页编码</th>
														<th>
															<div class="btn-group">
																<span class="sort" data-toggle="dropdown" aria-expanded="false">类型</span><span class="ion-android-sort " ></span>
					                                            <ul class="dropdown-menu" role="menu">
					                                                <li><a href="#">切栏</a></li>
					                                                <li><a href="#">切列</a></li>
					                                                <li><a href="#">切字</a></li>
					                                            </ul>
					                                        </div>
														</th>
														<th>阶段</th>
														<th>
															<div class="btn-group">
																<span class="sort" data-toggle="dropdown" aria-expanded="false">优先级</span><span class="ion-android-sort " ></span>
					                                            <ul class="dropdown-menu" role="menu">
					                                                <li><a href="#">高</a></li>
					                                                <li><a href="#">中</a></li>
					                                                <li><a href="#">低</a></li>
					                                            </ul>
					                                        </div>
														</th>
														<th>
															<div class="btn-group">
																<span class="sort" data-toggle="dropdown" aria-expanded="false">状态</span><span class="ion-android-sort " ></span>
					                                            <ul class="dropdown-menu" role="menu">
					                                                <li><a href="#">已发布未领取</a></li>
					                                                <li><a href="#">进行中</a></li>
					                                                <li><a href="#">已退回</a></li>
					                                                <li><a href="#">已完成</a></li>
					                                            </ul>
					                                        </div>
														</th>
														
														<th>退回理由</th>
														<th>备注</th>
														<th>领取人</th>
														<th>领取时间</th>
														<th>完成时间</th>
														<th>操作</th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<td><input type="checkbox" name="" id="" value="" /></td>
														<td>GY1-1-1</td>
														<td>切栏</td>
														<td>校对</td>
														<td>高</td>
														<td>已领取</td>
														<td>退回理由</td>
														<td>备注</td>
														<td>丁元英</td>
														<td>2018/06/23 11:52:37</td>
														<td>2018/06/23 15:52:37</td>
														<td><span onclick="revoke(10)">撤回任务</span><span>下载结果</span></td>
													</tr>
													<tr>
														<td><input type="checkbox" name="" id="" value="" /></td>
														<td>GY1-1-1</td>
														<td>切栏</td>
														<td>校对</td>
														<td>高</td>
														<td>已领取</td>
														<td>退回理由</td>
														<td>备注</td>
														<td>丁元英</td>
														<td>2018/06/23 11:52:37</td>
														<td>2018/06/23 15:52:37</td>
														<td><span onclick="revoke(10)">撤回任务</span><span>下载结果</span></td>
													</tr>
													<tr>
														<td><input type="checkbox" name="" id="" value="" /></td>
														<td>GY1-1-1</td>
														<td>切栏</td>
														<td>校对</td>
														<td>高</td>
														<td>已领取</td>
														<td>退回理由</td>
														<td>备注</td>
														<td>丁元英</td>
														<td>2018/06/23 11:52:37</td>
														<td>2018/06/23 15:52:37</td>
														<td><span onclick="revoke(10)">撤回任务</span><span>下载结果</span></td>
													</tr>
													<tr>
														<td><input type="checkbox" name="" id="" value="" /></td>
														<td>GY1-1-1</td>
														<td>切栏</td>
														<td>校对</td>
														<td>高</td>
														<td>已领取</td>
														<td>退回理由</td>
														<td>备注</td>
														<td>丁元英</td>
														<td>2018/06/23 11:52:37</td>
														<td>2018/06/23 15:52:37</td>
														<td><span onclick="revoke(10)">撤回任务</span><span style="background: #CCCCCC;">下载结果</span></td>
													</tr>
													<tr>
														<td><input type="checkbox" name="" id="" value="" /></td>
														<td>GY1-1-1</td>
														<td>切栏</td>
														<td>校对</td>
														<td>高</td>
														<td>已领取</td>
														<td>退回理由</td>
														<td>备注</td>
														<td>丁元英</td>
														<td>2018/06/23 11:52:37</td>
														<td>2018/06/23 15:52:37</td>
														<td><span onclick="revoke(10)">撤回任务</span><span>下载结果</span></td>
													</tr>
													<tr>
														<td><input type="checkbox" name="" id="" value="" /></td>
														<td>GY1-1-1</td>
														<td>切栏</td>
														<td>校对</td>
														<td>高</td>
														<td>已领取</td>
														<td>退回理由</td>
														<td>备注</td>
														<td>丁元英</td>
														<td>2018/06/23 11:52:37</td>
														<td>2018/06/23 15:52:37</td>
														<td><span onclick="revoke(10)">撤回任务</span><span style="background: #CCCCCC;">下载结果</span></td>
													</tr>
												</tbody>
											</table>
										</div>
										{% module Pager(pager='TODO') %}
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		{% include _base_js.html %}

		<script type="text/javascript">
			
			/**
			 * 撤销任务
			 * @param {Object} name 任务的标记名
			 */
			function revoke(name) {
				swal({
						title: "确定撤回" + name + "任务吗？",
						text: "撤回后无法恢复！",
						type: "warning",
						showCancelButton: true,
						confirmButtonColor: "#b8906f",
						confirmButtonText: "确定撤回",
						cancelButtonText: "取消",
						closeOnConfirm: false
					},
					function() {
						//此处调用后台删除逻辑(ajax)
						
						//如果不需要这个对话框，可直接删掉，并将上面一句closeOnConfirm: false改为true
						swal({
							title: "撤回任务！",
							text: name + "的任务已经被撤回。",
							type: "success",
							confirmButtonColor: "#b8906f",
							confirmButtonText: "确定"
						});
					});
			}
			
			
		</script>
		
	</body>

</html>